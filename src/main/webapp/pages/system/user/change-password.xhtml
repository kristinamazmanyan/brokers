<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                template="/pages/templates/system-template.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="tab-index">3</ui:define>
    <ui:define name="subtab-index">1</ui:define>

    <ui:define name="content">
        <h:form id="userForm">

            <p:panel id="updatePart" style="width:30%;" header="#{i18n['user.change_password']}">
                <p:growl id="growl" sticky="false" showSummary="true" showDetail="false" life="3000"/>

                <p:panelGrid styleClass="grid">
                    <p:row>
                        <p:column colspan="2">
                            <span style="color:red">*</span><h:outputText
                                value="#{i18n['common.error_postfix_is_required']}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column style="vertical-align:top;">
                            <span>#{i18n['user.old_password']}<span style="color:red"> * </span></span>
                        </p:column>
                        <p:column style="vertical-align:top; text-align:left;">
                            <p:inputText id="oldPassword" value="#{changePasswordController.oldPassword}"/>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column style="vertical-align:top;">
                            <span>#{i18n['user.new_password']}<span style="color:red"> * </span></span>
                        </p:column>
                        <p:column style="vertical-align:top; text-align:left;">
                            <p:inputText id="newPassword" value="#{changePasswordController.newPassword}"/>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column style="vertical-align:top;">
                            <span>#{i18n['user.retype_password']}<span style="color:red"> * </span></span>
                        </p:column>
                        <p:column style="vertical-align:top; text-align:left;">
                            <p:inputText id="rePassword" value="#{changePasswordController.rePassword}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:commandButton id="saveButton"
                                             value="#{i18n['user.change_password']}"
                                             actionListener="#{changePasswordController.changePassword}"
                                             update="updatePart"/>
                        </p:column>
                        <p:column>
                            <p:button href="/pages/index.jsf" value="#{i18n['common.back']}"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>